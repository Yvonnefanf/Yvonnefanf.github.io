<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Comparable XAI</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Space+Mono&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Roboto+Condensed&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono&display=swap" rel="stylesheet">
  <script src="https://unpkg.com/vue@3/dist/vue.global.prod.js"></script>

  <style>
    /* Base styles */
    body {
      font-family: Arial, sans-serif;
      padding: 20px;
    }

    /* Table base styles */
    table {
      border-collapse: collapse;
      margin-bottom: 10px;
      font-size: 14px;
      font-family: 'Roboto Condensed', monospace;
      color: #212121;
    }

    th, td {
      border: 1px solid #ccc;
      padding: 6px;
      transition: max-width 0.4s cubic-bezier(0.4, 0, 0.2, 1), 
                  opacity 0.4s cubic-bezier(0.4, 0, 0.2, 1), 
                  padding 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      max-width: 200px;
      opacity: 1;
      overflow: hidden;
      white-space: nowrap;
    }

    th {
      font-size: 14px;
      font-family: sans-serif;
    }

    table, th, td {
      border: none;
      background-color: #fbfbfb;
    }

    /* Column-specific classes */
    .col-feature {
      width: 100px;
    }

    .col-subject {
      width: 50px;
      text-align: right;
    }

    .col-comparable-header {
      width: 50px;
      text-align: right;
    }

    .col-comparable-value {
      width: 50px;
      text-align: right;
    }

    .col-comparable-delta {
      width: 50px;
      text-align: right;
    }

    .col-adjustment-detail {
      width: 80px;
      text-align: right;
      font-weight: bold;
    }

    .col-adjustment-price {
      width: 26px;
      text-align: right;
      font-weight: bold;
      padding-right: 10px;
    }

    .col-adjustment-value {
      width: 80px;
      text-align: right;
      font-weight: 400;
      padding-right: 4px;
    }
    /* bg color */
    .col-adjustment-detail,.col-adjustment-price,.col-adjustment-value {
      background-color: #fcf8e8;
    }

    .col-target {
      width: 50px;
      text-align: right;
    }

    /* Utility classes */
    .hidden {
      max-width: 0 !important;
      opacity: 0 !important;
      padding-left: 0 !important;
      padding-right: 0 !important;
      border-width: 0 !important;
      pointer-events: none;
    }

    .highlight-blue {
      background-color: #dcecfb;
    }

    .highlight-green {
      background-color: #d9f5dc;
    }

    .highlight-yellow {
      background-color: #fef6e4;
    }

    .gray-bg {
      background-color: #ededed !important;
    }

    .gray-font {
      color: #ccc;
    }

    .ai-pred-bg {
      background-color: #dedede;
    }

    .border-btm {
      border-bottom: 1px solid #666;
    }

    .border-top {
      border-top: 1px solid #666;
    }

    .border-wider {
      border-top: 2px solid #a4a4a4;
    }

    /* Text alignment */
    .right-align {
      text-align: right;
    }

    .left-align {
      text-align: left;
    }

    /* Typography */
    .feature-name {
      font-size: 14px;
      text-align: left;
      font-weight: 400;
      font-family: sans-serif;
    }

    .money {
      font-family: 'Roboto Condensed', monospace;
      font-size: 14px;
      font-variant-numeric: tabular-nums;
      letter-spacing: 0.5px;
      font-weight: 1200;
      color: #2e8113;
    }

    .adj-grey {
      color: #ccc;
      font-size: 1em;
      width: 30px;
      text-align: right;
    }

    .adj-black {
      color: #222;
      font-weight: 500;
      font-size: 1em;
      width: 40px;
      text-align: left;
    }

    /* Interactive elements */
    .clickable-header {
      cursor: pointer;
      user-select: none;
      display: inline-flex;
      align-items: center;
      gap: 4px;
      font-weight: bold;
      color: #0074d9;
      transition: color 0.2s;
    }

    .clickable-header:hover {
      color: #005fa3;
      text-decoration: underline;
    }

    .arrow {
      transition: transform 0.2s;
      display: inline-block;
    }

    .arrow.open {
      transform: rotate(180deg);
    }

    .toggle-text {
      width: 12px;
      line-height: 16px;
    }

    .toggle-button {
      cursor: pointer;
      margin: 2px 0;
    }

    .toggle-button:hover {
      background: #cbf4be;
    }

    /* Tabs */
    .tabs {
      display: flex;
      gap: 0;
      margin-bottom: 18px;
      border-bottom: 2.5px solid #e5e7eb;
      background: #fff;
    }

    .tab {
      cursor: pointer;
      padding: 12px 32px 10px 32px;
      border: none;
      background: none;
      font-size: 20px;
      font-weight: 500;
      color: #888;
      position: relative;
      transition: color 0.2s, background 0.2s;
      border-radius: 12px 12px 0 0;
      outline: none;
      margin-bottom: -2.5px;
    }

    .tab:not(.active):hover {
      color: #0074d9;
      background: #f5faff;
    }

    .tab.active {
      color: #222;
      font-weight: 700;
      background: #fff;
    }

    .tab.active::after {
      content: '';
      display: block;
      position: absolute;
      left: 18px;
      right: 18px;
      bottom: -2.5px;
      height: 3.5px;
      border-radius: 2px 2px 0 0;
      background: #0074d9;
      box-shadow: 0 2px 8px 0 #0074d91a;
    }

    /* Layout */
    .adj-flex {
      display: flex;
      justify-content: space-between;
      align-items: center;
      width: 100%;
    }

    .tab-content {
      height: 390px;
      padding: 4px 0 30px 20px;
      border-bottom: 1px solid #e5e7eb;
    }

    /* Navigation */
    .nav-btn {
      background: #0074d9;
      color: #fff;
      border: none;
      border-radius: 6px;
      padding: 7px 18px;
      font-size: 1em;
      font-weight: 500;
      cursor: pointer;
      transition: background 0.18s, color 0.18s, box-shadow 0.18s;
      display: flex;
      align-items: center;
      gap: 6px;
      box-shadow: 0 2px 8px 0 #0074d91a;
    }

    .nav-btn:disabled {
      background: #e5e7eb;
      color: #aaa;
      cursor: not-allowed;
      box-shadow: none;
    }

    .nav-btn:not(:disabled):hover {
      background: #005fa3;
      color: #fff;
    }

    /* Plain XAI table */
    .plain-xai-table {
      border-collapse: collapse;
      margin-top: 10px;
      font-size: 14px;
      min-width: 650px;
    }

    .plain-xai-table th,
    .plain-xai-table td {
      border: 1px solid #bfc9d1;
      padding: 6px 12px;
    }

    .plain-xai-table th {
      font-weight: bold;
    }

    .plain-xai-table tr td:first-child {
      font-weight: 500;
    }

    /* Specific widths for plain table */
    .plain-feature-col {
      width: 140px;
    }

    .comp-header {
      font-size: 14px;
    }

    .comp-details {
      background-color: #f4fdf1;
    }

    .sub-header {
      background-color: #f0f0f0;
      font-weight: normal;
      font-size: 0.9em;
    }

    .detail-header-bg {
      background-attachment: #cbf4be !important;
    }

    .subject {
      padding-right: 20px;
    }

    /* Additional utility classes for inline styles */
    .help-icon {
      cursor: pointer;
      margin-left: 4px;
      font-size: 10px;
    }

    .arrow-icon {
      font-size: 10px;
      vertical-align: middle;
    }

    .flex-center {
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .small-text {
      font-size: 12px;
    }

    .explanation-text {
      color: rgb(129 129 129);
      font-size: 12px;
      margin-top: 24px;
    }

    .nav-container {
      display: flex;
      align-items: center;
      gap: 16px;
      margin-top: 20px;
    }

    .col-small {
      width: 30px;
    }
  </style>
</head>

<body>

  <div id="app">
    <h2>
      <div class="tabs">
        <span v-for="(tab, idx) in tabs" :key="tab" :class="['tab', {active: currentTab === idx}]"
          @click="currentTab = idx">{{ tab }}</span>
      </div>
    </h2>
    <div class="tab-content" v-if="currentTab === 0">
      <table>
        <thead>
          <!-- Header row -->
          <tr>
            <th class="col-feature"></th>
            <th class="col-subject subject">Subject</th>
            <template v-for="(row, idx) in Comparables[currentTargetIndex]" :key="row.id">
              <th colspan="2" class="col-comparable-header border-btm">
                Comparable {{idx + 1}}
                <button class="toggle-button" @click="toggleCols(`comp${idx+1}`,idx)">
                  <span v-if="currentOpenComp!=idx" class="toggle-text">{{ currentOpenComp ==idx ? ' ' : '...' }}</span>
                  <i class="toggle-text fa-solid fa-angle-left" v-if="currentOpenComp==idx"></i>
                </button>
              </th>
              <template v-for="i in row.adjusted_step_number">
                <th style="padding-right: 10px;" class="col-adjustment-detail border-btm" :colspan="2"
                :class="{hidden: currentOpenComp!==idx}">
                Sub Comp {{i}}
              </th>
              </template>
             
            </template>
          </tr>
          <!-- header -->
          <tr>
            <td class="comp-header"></td>
            <td class="subject"></td>
            <template v-for="(row, idx) in Comparables[currentTargetIndex]" :key="row.id">
              <th class="col-comparable-value comp-header border-btm">Values</th>
              <th class="col-comparable-delta comp-header border-btm money">
                <span> $ Δ </span>
              </th>
              <template v-for="i in row.adjusted_step_number">
                <th class="col-adjustment-value border-btm" :class="{hidden: currentOpenComp!==idx}">
                  Values
                </th>
                <th class="col-adjustment-price border-btm money" :class="{hidden: currentOpenComp!==idx}">$ Δ</th>
              </template>
            </template>
          </tr>
        </thead>
        <tbody>
          <tr v-for="(tb, index) in Features">
            <td class="feature-name">
              <span>{{ Features[index] }}</span>
              <span class="help-icon" :title="FeatureDescriptions[index]">
                <i class="fa-regular fa-circle-question"></i>
              </span>
            </td>
            <td class="right-align subject">{{ Targets[currentTargetIndex].feature_val[index] }}</td>
            <template v-for="(row, idx) in Comparables[currentTargetIndex]" :key="row.id">
              <td class="col-comparable-value" :class="{'gray-font': row.delta_x[index]==0}">
                <span>{{ row.feature_val[index] }}</span>
              </td>
              <td class="col-comparable-delta money" :class="{'gray-font': row.delta_x[index]==0}">
                {{row.delta_y[index]!==0? row.delta_y[index]+'K':'—' }}
              </td>
              <template v-for="i in row.adjusted_step_number">
                <td class="col-adjustment-value" :class="{hidden: currentOpenComp!==idx }"
                  :style="{ color: index == row.adjusted_order[i-1] ? '#222' : '#ccc' }">
                  <span v-if="row.adjusted_order.slice(0,i).includes(index)">
                    {{ row.feature_val[index] }}
                    <i class="fa-solid fa-arrow-right arrow-icon"></i>
                    {{ Targets[currentTargetIndex].feature_val[index] }}
                  </span>
                </td>
                <td class="col-adjustment-price money" :class="{hidden: currentOpenComp!==idx}" 
                    :style="{ color: index == row.adjusted_order[i-1] ? '#2e8113' : '#ccc' }">
                  {{ row.adjusted_order.slice(0,i).includes(index)? row.delta_y[index]+'K' : ''}}
                </td>
              </template>
            </template>
          </tr>

          <tr>
            <td class="feature-name money">Actual Price ($)
              <span class="help-icon" title="Actual Price ($) is the actual sale price of the comparable house.">
                <i class="fa-regular fa-circle-question"></i>
              </span>
            </td>
            <td class="right-align subject money"></td>
            <template v-for="(row, idx) in Comparables[currentTargetIndex]" :key="row.id">
              <td colspan="2" class="col-comparable-header money">
                <span>{{row.actual}}K</span>
              </td>
              <template v-for="(ele, i) in row.adjusted_price">
                <td :colspan="2" class="col-adjustment-detail money" :class="{hidden: currentOpenComp!==idx}">
                  <span>{{row.actual}}K</span>
                </td>
              </template>
            </template>
          </tr>

          <tr>
            <td class="feature-name money">Adjusted Price ($)
              <span class="help-icon" title="Adjusted Price ($) is the price of the comparable house after all adjustments.">
                <i class="fa-regular fa-circle-question"></i>
              </span>
            </td>
            <td class="right-align money subject"></td>
            <template v-for="(row, idx) in Comparables[currentTargetIndex]" :key="row.id">
              <td colspan="2" class="col-comparable-header money border-top">
                <span>{{row.adjusted_price[row.adjusted_step_number - 1]}}K</span>
              </td>
              <template v-for="(ele, i) in row.adjusted_price">
                <td :colspan="2" class="col-adjustment-detail money border-top" :class="{hidden: currentOpenComp!==idx}">
                  <span>{{ele}}K</span>
                </td>
              </template>
            </template>
          </tr>
          <!-- Empty row -->
          <tr style="height: 20px;">
            <td class="feature-name">
            </td>
            <td class="right-align money subject">
             </td>
            <template v-for="(row, idx) in Comparables[currentTargetIndex]" :key="row.id">
              <td colspan="2" class="col-comparable-header money">
                <span> </span>
              </td>
              <td :colspan="row.adjusted_step_number*2" class="right-align" :class="{hidden: currentOpenComp!==idx}">
              </td>
            </template>
          </tr>

          <tr>
            <td class="feature-name money ai-pred-bg">AI Prediction ($)
              <span class="help-icon" title="AI Prediction ($) is the price of the house predicted by the AI model.">
                <i class="fa-regular fa-circle-question"></i>
              </span>
            </td>
            <td class="right-align money subject ai-pred-bg">
              {{Targets[currentTargetIndex].pred}}K </td>
            <template v-for="(row, idx) in Comparables[currentTargetIndex]" :key="row.id">
              <td colspan="2" class="col-comparable-header money ai-pred-bg">
                <span>{{row.pred}}K</span>
              </td>
              <td :colspan="row.adjusted_step_number*2" class="right-align" :class="{hidden: currentOpenComp!==idx}">
              </td>
            </template>
          </tr>
        </tbody>
      </table>
      <!-- 说明行 -->
      <div class="explanation-text">
        <span>
          <span>Sum of $ Δ + Actual Price ($) = Adjusted Price ($)</span>
        </span>
      </div>
    </div>

    <!-- NO Trace Version -->
    <div class="tab-content" v-else-if="currentTab === 1">

      <table>
        <thead>
          <!-- Header row -->
          <tr>
            <th class="col-feature">Feature</th>
            <template v-for="(row, idx) in Comparables_no_trace[currentTargetIndex]" :key="row.id">
              <th colspan="4" class="col-comparable-header">
                <div class="flex-center">
                  Comparable {{idx + 1}}
                </div>
                <div class="small-text flex-center">
                  AI Prediction ($): {{row.pred}}K
                </div>
              </th>
            </template>
            <th>Target</th>
          </tr>

          <tr>
            <td class="feature-name">Actual Price ($)</td>
            <template v-for="(row, idx) in Comparables_no_trace[currentTargetIndex]" :key="row.id">
              <td colspan="2" class="col-comparable-header money">
                <span>{{row.actual}}K</span>
              </td>
            </template>
            <td class="right-align">?? </th>
          </tr>

          <tr>
            <td class="gray-bg"></td>
            <template v-for="(row, idx) in Comparables_no_trace[currentTargetIndex]" :key="row.id">
              <th class="comp-header col-small">Values</th>
              <th class="comp-header col-small">Δ</th>
              <th colspan="2" class="col-comparable-header small-text">
                $ Adjustment
              </th>
            </template>
            <td class="gray-bg"></td>
          </tr>
        </thead>

        <tbody>
          <tr v-for="(tb, index) in Features">
            <td class="feature-name">
              {{ Features[index] }}
              <span class="help-icon" :title="FeatureDescriptions[index]">
                <i class="fa-regular fa-circle-question"></i>
              </span>
            </td>
            <template v-for="(row, idx) in Comparables_no_trace[currentTargetIndex]" :key="row.id">
              <td class="col-comparable-value">
                <span>{{ row.feature_val[index] }}</span>
              </td>
              <td class="col-comparable-delta">
                <span>{{ row.delta_x[index] }}</span>
              </td>
              <td class="col-comparable-header" colspan="2">{{row.delta_y[index]!==0? row.delta_y[index]+'K':'' }}</td>
            </template>
            <td class="right-align">{{ Targets[currentTargetIndex].feature_val[index] }}</td>
          </tr>

          <tr>
            <td class="feature-name highlight-blue">Adjusted Price ($)</td>
            <template v-for="(row, idx) in Comparables_no_trace[currentTargetIndex]" :key="row.id">
              <td colspan="4" class="col-comparable-header highlight-blue">
                <span>= {{row.adjusted_price}}K</span>
              </td>
            </template>
            <td class="right-align gray-bg"></th>
          </tr>
        </tbody>
      </table>
    </div>
    <div class="tab-content" v-else>
      <table class="plain-xai-table">
        <thead>
          <tr>
            <th class="plain-feature-col">Feature</th>
            <th>Target</th>
            <template v-for="(row, idx) in Comparables[currentTargetIndex]" :key="row.id">
              <th>Comparable {{idx+1}}</th>
            </template>
          </tr>
          <tr>
            <td class="plain-feature-col feature-name">AI Prediction ($)</td>
            <td class="right-align">{{Targets[currentTargetIndex].pred}}K</td>
            <template v-for="(row, idx) in Comparables[currentTargetIndex]" :key="row.id">
              <td class="right-align">{{row.pred}}K</td>
            </template>
          </tr>
          <tr>
            <td class="plain-feature-col feature-name">Actual Price ($)</td>
            <td class="right-align">??</td>
            <template v-for="(row, idx) in Comparables[currentTargetIndex]" :key="row.id">
              <td class="right-align">{{row.actual}}K</td>
            </template>
          </tr>
        </thead>
        <tbody>
          <template v-for="(feature, index) in Features">
            <tr>
              <td class="plain-feature-col feature-name">
                {{feature}}
                              <span class="help-icon" :title="FeatureDescriptions[index]">
                <i class="fa-regular fa-circle-question"></i>
              </span>
              </td>
              <td class="right-align">{{Targets[currentTargetIndex].feature_val[index]}}</td>
              <template v-for="(row, idx) in Comparables[currentTargetIndex]" :key="row.id">
                <td class="right-align">{{row.feature_val[index]}}</td>
              </template>
            </tr>
          </template>
        </tbody>
      </table>
    </div>
    <div style="display:flex;align-items:center;gap:16px;margin-top:20px;">
      <button class="nav-btn" @click="prevTarget" :disabled="currentTargetIndex===0">
        <i class="fa fa-angle-left"></i> Prev
      </button>
      <span>Instance {{ currentTargetIndex + 1 }} / {{ Targets.length }}</span>
      <button class="nav-btn" @click="nextTarget" :disabled="currentTargetIndex===Targets.length-1">
        Next <i class="fa fa-angle-right"></i>
      </button>
    </div>
  </div>

  <script>
    const { createApp } = Vue;
    createApp({
      data() {
        return {
          comp1Open: false,
          comp2Open: false,
          currentTab: 0,
          currentOpenComp: null,
          currentTargetIndex: 0,
          tabs: [
            'Comparable XAI',
            'Comparable XAI (No Trace)',
            'Plain Example-based XAI'
          ],
          Features: ['Dist to Downtown (km)', '# Bathroom', 'Living Area (ksqft)', 'Grade', 'Age (years)', 'Condition'],
          FeatureDescriptions: [
            'Distance from the property to the city center in kilometers.',
            'The number of bathrooms in the house.',
            'Indoor living space in thousands of square feet.',
            'A rating of the overall quality and design of the house, based on King County\'s grading system.',
            'The year the house was originally built.',
            'A rating of the overall condition of the house (e.g., from 1 to 5, with 5 being the best).'
          ],
          Targets: [
            {
              'feature_val': [12.4, 1, 1.4, 7, 68, 4],
              'pred': 389
            },
            {
              'feature_val': [0, 0, 0, 0, 0, 0],
              'pred': 0
            }
          ],
          Comparables: [
            [
              {
                'id': 0,
                'feature_val': [12.1, 2, 1.1, 7, 68, 5],
                'delta_x': [+0.3, -1, +0.3, 0, 0, -1],
                'delta_y': [-3, -6, +30, 0, 0, -3],
                'pred': 373,
                'actual': 390,
                'adjusted_step_number': 4,
                'adjusted_order': [1, 2, 0, 5],
                'adjusted_price': [384, 414, 411, 408],
                'net_adjustments': [-6, 24, 21, 18],
                'net_adjustment': 18
              },
              {
                'id': 1,
                'feature_val': [10.5, 1, 0.7, 6, 73, 3],
                'delta_x': [+1.8, 0, +0.7, +1, -7, +1],
                'delta_y': [-113, 0, +135, +97, +7, +22],
                'pred': 232,
                'actual': 245,
                'adjusted_step_number': 5,
                'adjusted_order': [0, 2, 3, 4, 5],
                'adjusted_price': [132, 267, 364, 371, 393],
                'net_adjustments': [-113, 22, 119, 126, 148],
                'net_adjustment': 148
              }
            ],
            [
              {
                'id': 0,
                'feature_val': [0, 0, 0, 0, 0, 0],
                'delta_x': [0, 0, 0, 0, 0, 0],
                'delta_y': [0, 0, 0, 0, 0, 0],
                'pred': 0,
                'actual': 0,
                'adjusted_step_number': 3,
                'adjusted_order': [0, 0, 0],
                'adjusted_price': [0, 0, 0]
              },
              {
                'id': 1,
                'feature_val': [0, 0, 0, 0, 0, 0],
                'delta_x': [0, 0, 0, 0, 0, 0],
                'delta_y': [0, 0, 0, 0, 0, 0],
                'pred': 0,
                'actual': 0,
                'adjusted_step_number': 4,
                'adjusted_order': [0, 0, 0, 0],
                'adjusted_price': [0, 0, 0, 0]
              }
            ]
          ],
          Comparables_no_trace: [
            [
              {
                'id': 0,
                'feature_val': [12.1, 2, 1.1, 7, 68, 5],
                'delta_x': [+0.3, -1, +0.3, 0, 0, -1],
                'delta_y': [+11, -6, -10, 0, 0, +1.5],
                'pred': 373,
                'actual': 390,
                'adjusted_step_number': 4,
                'adjusted_price': 386
              },
              {
                'id': 1,
                'feature_val': [10.5, 1, 0.7, 6, 73, 3],
                'delta_x': [+1.8, 0, +0.7, +1, -7, +1],
                'delta_y': [-67, 0, +154, +150, +6, +35],
                'pred': 232,
                'actual': 245,
                'adjusted_step_number': 5,
                'adjusted_price': 524
              }
            ],
            [
              {
                'id': 0,
                'feature_val': [0, 0, 0, 0, 0, 0],
                'delta_x': [0, 0, 0, 0, 0, 0],
                'delta_y': [0, 0, 0, 0, 0, 0],
                'pred': 0,
                'actual': 0,
                'adjusted_step_number': 3,
                'adjusted_price': 0
              },
              {
                'id': 1,
                'feature_val': [0, 0, 0, 0, 0, 0],
                'delta_x': [0, 0, 0, 0, 0, 0],
                'delta_y': [0, 0, 0, 0, 0, 0],
                'pred': 0,
                'actual': 0,
                'adjusted_step_number': 4,
                'adjusted_price': 0
              }
            ]
          ]
        }
      },
      methods: {
        toggleCols(group, idx) {
          if (this.currentOpenComp == idx) {
            this.currentOpenComp = null
          } else {
            this.currentOpenComp = idx
          }
          console.log("group", group)

          if (group === 'comp1') {
            this.comp1Open = !this.comp1Open;
            if (this.comp1Open) this.comp2Open = false;
          } else {
            this.comp2Open = !this.comp2Open;
            if (this.comp2Open) this.comp1Open = false;
          }
        },
        nextTarget() {
          if (this.currentTargetIndex < this.Targets.length - 1) {
            this.currentTargetIndex++;
            this.currentOpenComp = null;
          }
        },
        prevTarget() {
          if (this.currentTargetIndex > 0) {
            this.currentTargetIndex--;
            this.currentOpenComp = null;
          }
        }
      }
    }).mount('#app');
  </script>

</body>

</html>
